{"version":3,"file":"1-timer.js","sources":["../src/img/Group-2-2.svg","../src/js/1-timer.js"],"sourcesContent":["export default \"data:image/svg+xml,%3c!--%20Generated%20by%20IcoMoon.io%20--%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='1024'%20height='1024'%20viewBox='0%200%201024%201024'%3e%3cg%20id='icomoon-ignore'%3e%3c/g%3e%3cpath%20fill='%23fafafb'%20d='M290.56%209.344c5.997-5.982%2014.121-9.342%2022.592-9.344h397.696c8.469%200.002%2016.593%203.362%2022.592%209.344l281.216%20281.216c5.982%205.997%209.344%2014.121%209.344%2022.592v397.696c0%208.469-3.362%2016.593-9.344%2022.592l-281.216%20281.216c-5.999%205.982-14.123%209.344-22.592%209.344h-397.696c-8.471%200-16.595-3.362-22.592-9.344l-281.216-281.216c-5.982-5.999-9.342-14.123-9.344-22.592v-397.696c0.002-8.471%203.362-16.595%209.344-22.592l281.216-281.216zM326.4%2064l-262.4%20262.4v371.2l262.4%20262.4h371.2l262.4-262.4v-371.2l-262.4-262.4h-371.2z'%3e%3c/path%3e%3cpath%20fill='%23fafafb'%20d='M297.344%20297.344c2.973-2.98%206.504-5.344%2010.391-6.958s8.055-2.444%2012.265-2.444c4.209%200%208.377%200.83%2012.265%202.444s7.419%203.977%2010.391%206.958l169.344%20169.408%20169.344-169.408c2.974-2.975%206.507-5.335%2010.394-6.946s8.055-2.439%2012.262-2.439c4.207%200%208.375%200.829%2012.262%202.439s7.42%203.971%2010.394%206.946c2.974%202.975%205.333%206.507%206.946%2010.394%201.609%203.887%202.436%208.054%202.436%2012.262s-0.828%208.374-2.436%2012.261c-1.613%203.887-3.972%207.42-6.946%2010.395l-169.408%20169.344%20169.408%20169.344c2.974%202.974%205.333%206.507%206.946%2010.394%201.609%203.887%202.436%208.055%202.436%2012.262s-0.828%208.375-2.436%2012.262c-1.613%203.887-3.972%207.42-6.946%2010.394s-6.507%205.333-10.394%206.946c-3.887%201.609-8.055%202.436-12.262%202.436s-8.375-0.828-12.262-2.436c-3.887-1.613-7.42-3.972-10.394-6.946l-169.344-169.408-169.344%20169.408c-2.975%202.974-6.508%205.333-10.395%206.946-3.887%201.609-8.054%202.436-12.261%202.436s-8.374-0.828-12.262-2.436c-3.887-1.613-7.419-3.972-10.394-6.946s-5.335-6.507-6.946-10.394c-1.61-3.887-2.439-8.055-2.439-12.262s0.829-8.375%202.439-12.262c1.61-3.887%203.971-7.42%206.946-10.394l169.408-169.344-169.408-169.344c-2.98-2.973-5.344-6.504-6.958-10.391s-2.444-8.055-2.444-12.265c0-4.209%200.83-8.377%202.444-12.265s3.977-7.419%206.958-10.391z'%3e%3c/path%3e%3c/svg%3e\"","import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport \"izitoast/dist/css/iziToast.css\"; \nimport icon from \"../img/Group-2-2.svg\";\n\nlet userSelectedDate = null;\n\nflatpickr(\"#datetime-picker\", {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0];\n\n    if (userSelectedDate < new Date()) {\n      iziToast.show({\n        title: `<img src=\"${icon}\" alt=\"icon\" width=\"20\" height=\"20\" />`,\n        message: \"Error Illegal operation\",\n        color: \"#FF0000\",\n        messageColor: \"#FFFFFF\", \n        position: \"topRight\", \n        timeout: 2000, \n      });\n      document.querySelector('button#start-timer-btn').disabled = true; \n    } else {\n      document.querySelector('button#start-timer-btn').disabled = false; \n    }\n  }\n});\n\n// Функція для форматування часу (додає нуль перед однією цифрою)\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, '0');\n}\n\n// Функція для підрахунку залишку часу\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor((ms % hour) / minute);\n  const seconds = Math.floor((ms % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction updateTimer({ days, hours, minutes, seconds }) {\n  document.querySelector('[data-days]').textContent = addLeadingZero(days);\n  document.querySelector('[data-hours]').textContent = addLeadingZero(hours);\n  document.querySelector('[data-minutes]').textContent = addLeadingZero(minutes);\n  document.querySelector('[data-seconds]').textContent = addLeadingZero(seconds);\n}\n\nconst startButton = document.querySelector('#start-timer-btn');\nstartButton.disabled = true;\n\nconst datetimePicker = document.querySelector('#datetime-picker');\n\nlet countdownInterval = null;\n\n\nfunction startCountdown() {\n  startButton.disabled = true; \n  datetimePicker.disabled = true; \n\n  countdownInterval = setInterval(() => {\n    const currentTime = new Date();\n    const timeDifference = userSelectedDate - currentTime;\n\n    if (timeDifference <= 0) {\n      clearInterval(countdownInterval);\n      iziToast.show({\n        title: \"Info\",\n        titleColor: \"#FFFFFF\",\n        message: \"The countdown has ended!\",\n        color: \"#0bd54b\",\n        messageColor: \"#FFFFFF\",  \n        position: \"topRight\", \n        timeout: 3000, \n      });\n      datetimePicker.disabled = false; \n      startButton.disabled = true; \n      return;\n    }\n\n    const time = convertMs(timeDifference);\n    updateTimer(time);\n  }, 1000);\n}\n\n//обробник подій для кнопки \nstartButton.addEventListener('click', startCountdown);\n\n "],"names":["icon","userSelectedDate","flatpickr","selectedDates","iziToast","addLeadingZero","value","convertMs","ms","days","hours","minutes","seconds","updateTimer","startButton","datetimePicker","countdownInterval","startCountdown","timeDifference","time"],"mappings":"0IAAA,MAAeA,EAAA,gqECOf,IAAIC,EAAmB,KAEvBC,EAAU,mBAAoB,CAC5B,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBF,EAAmBE,EAAc,CAAC,EAE9BF,EAAmB,IAAI,MACzBG,EAAS,KAAK,CACZ,MAAO,aAAaJ,CAAI,yCACxB,QAAS,0BACT,MAAO,UACP,aAAc,UACd,SAAU,WACV,QAAS,GACjB,CAAO,EACD,SAAS,cAAc,wBAAwB,EAAE,SAAW,IAE5D,SAAS,cAAc,wBAAwB,EAAE,SAAW,EAE/D,CACH,CAAC,EAGD,SAASK,EAAeC,EAAO,CAC7B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC,CAGA,SAASC,EAAUC,EAAI,CAMrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAOH,EAAK,KAAQ,GAAM,EACzCI,EAAU,KAAK,MAAOJ,EAAK,IAAU,GAAM,EAEjD,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASC,EAAY,CAAE,KAAAJ,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CACtD,SAAS,cAAc,aAAa,EAAE,YAAcP,EAAeI,CAAI,EACvE,SAAS,cAAc,cAAc,EAAE,YAAcJ,EAAeK,CAAK,EACzE,SAAS,cAAc,gBAAgB,EAAE,YAAcL,EAAeM,CAAO,EAC7E,SAAS,cAAc,gBAAgB,EAAE,YAAcN,EAAeO,CAAO,CAC/E,CAEA,MAAME,EAAc,SAAS,cAAc,kBAAkB,EAC7DA,EAAY,SAAW,GAEvB,MAAMC,EAAiB,SAAS,cAAc,kBAAkB,EAEhE,IAAIC,EAAoB,KAGxB,SAASC,GAAiB,CACxBH,EAAY,SAAW,GACvBC,EAAe,SAAW,GAE1BC,EAAoB,YAAY,IAAM,CAEpC,MAAME,EAAiBjB,EADH,IAAI,KAGxB,GAAIiB,GAAkB,EAAG,CACvB,cAAcF,CAAiB,EAC/BZ,EAAS,KAAK,CACZ,MAAO,OACP,WAAY,UACZ,QAAS,2BACT,MAAO,UACP,aAAc,UACd,SAAU,WACV,QAAS,GACjB,CAAO,EACDW,EAAe,SAAW,GAC1BD,EAAY,SAAW,GACvB,MACD,CAED,MAAMK,EAAOZ,EAAUW,CAAc,EACrCL,EAAYM,CAAI,CACjB,EAAE,GAAI,CACT,CAGAL,EAAY,iBAAiB,QAASG,CAAc"}